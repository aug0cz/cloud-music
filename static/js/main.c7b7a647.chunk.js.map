{"version":3,"sources":["api/config.ts","api/request.ts","store/features/recommend/services.ts","store/features/recommend/slice.ts","store/index.ts","assets/global-style.ts","application/Home/style.ts","application/Home/index.tsx","store/hooks.ts","components/slider/style.ts","components/slider/index.tsx","api/utils.ts","components/list/style.ts","components/list/index.tsx","baseUI/scroll/index.tsx","application/Recommend/style.ts","application/Recommend/index.tsx","application/Singers/index.tsx","application/Rank/index.tsx","routes/index.tsx","style.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["http","axios","create","baseURL","interceptors","response","use","res","data","err","console","log","Promise","reject","getBannerRequest","a","get","getRecommendListRequest","getBannerList","createAsyncThunk","getRecommendList","recommendSlice","createSlice","name","initialState","bannerList","recommendList","reducers","changeBanner","state","action","payload","changeRecommendList","extraReducers","builder","addCase","fulfilled","banners","rejected","error","result","selectBannerList","recommend","selectRecommendList","actions","store","configureStore","reducer","recommendReducer","globalStyle","extendClick","noWrap","Top","styled","div","style","Tab","TabItem","Home","props","route","className","to","activeClassName","renderRoutes","routes","memo","useAppSelector","useSelector","SliderContainer","Slider","useState","sliderSwiper","setSliderSwiper","useEffect","length","newSliderSwiper","Swiper","loop","autoplay","delay","disableOnInteraction","pagination","el","map","slider","idx","src","imageUrl","width","height","alt","toString","getCount","count","Math","floor","ListWrapper","List","ListItem","RecommendList","item","picUrl","playCount","id","ScrollContainer","Scroll","forwardRef","ref","bScroll","setBScroll","scrollContainerRef","useRef","direction","click","refresh","bounceTop","bounceBottom","pullUp","pullDown","onScroll","scroll","BScroll","current","scrollX","scrollY","probeType","bounce","top","bottom","on","off","y","maxScrollY","pos","useImperativeHandle","scrollTo","getBScroll","children","Content","Recommend","dispatch","useDispatch","Singers","Rank","path","component","exact","render","GlobalStyle","createGlobalStyle","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"8NAIMA,E,OAAOC,EAAMC,OAAO,CACxBC,QAHqB,uCAMvBH,EAAKI,aAAaC,SAASC,KACzB,SAACC,GAAD,OAASA,EAAIC,QACb,SAACC,GAEC,OADAC,QAAQC,IAAIF,EAAK,4BACVG,QAAQC,OAAOJ,MCRnB,I,oBAAMK,EAAgB,uCAAG,sBAAAC,EAAA,sEACxBf,EAAKgB,IAA+B,WADZ,mFAAH,qDAEhBC,EAAuB,uCAAG,sBAAAF,EAAA,sEAC/Bf,EAAKgB,IAAqC,iBADX,mFAAH,qDCAvBE,EAAgBC,YAC3B,0BAD2C,sBAE3C,sBAAAJ,EAAA,sEAAkBD,IAAlB,oFAGWM,EAAmBD,YAC9B,6BAD8C,sBAE9C,sBAAAJ,EAAA,sEAAkBE,IAAlB,oFCIWI,EAAiBC,YAAY,CACxCC,KAAM,YACNC,aAPoC,CACpCC,WAAY,GACZC,cAAe,IAMfC,SAAU,CACRC,aAAc,SAACC,EAAOC,GACpBD,EAAMJ,WAAaK,EAAOC,SAE5BC,oBAAqB,SAACH,EAAOC,GAC3BD,EAAMH,cAAgBI,EAAOC,UAGjCE,cAAe,SAACC,GACdA,EAAQC,QAAQjB,EAAckB,WAAW,SAACP,EAAOC,GAC/CD,EAAMJ,WAAaK,EAAOC,QAAQM,WAGpCH,EAAQC,QAAQjB,EAAcoB,UAAU,SAACT,EAAOC,GAC9CpB,QAAQC,IAAI,yDAAamB,EAAOS,UAGlCL,EAAQC,QAAQf,EAAiBgB,WAAW,SAACP,EAAOC,GAClDD,EAAMH,cAAgBI,EAAOC,QAAQS,UAGvCN,EAAQC,QAAQf,EAAiBkB,UAAU,SAACT,EAAOC,GACjDpB,QAAQC,IAAI,+DAAcmB,EAAOS,aAK1BE,EAAmB,SAACZ,GAAD,OAC9BA,EAAMa,UAAUjB,YACLkB,EAAsB,SAACd,GAAD,OACjCA,EAAMa,UAAUhB,eAEX,EAA8CL,EAAeuB,QAErDvB,GAFR,EAAQO,aAAR,EAAsBI,oBAEdX,EAAf,SCpCewB,EAfDC,YAAe,CAC3BC,QAAS,CACPL,UAAWM,K,qBCkCAC,EAnBK,CAClB,cAAe,UACf,qBAAsB,yBACtB,mBAAoB,UACpB,kBAAmB,UACnB,qBAAsB,UACtB,eAAgB,OAChB,cAAe,OACf,cAAe,OACf,cAAe,OACf,eAAgB,OAChB,eAAgB,UAChB,mBAAoB,UACpB,0BAA2B,sBAC3B,6BAA8B,OAC9BC,YAlCkB,WAClB,MAAM,qKAkCNC,OAxBa,WACb,MAAM,wFCVKC,EAAMC,IAAOC,IAAV,yRAKAC,EAAM,gBAWTC,EAAMH,IAAOC,IAAV,8YAKAC,EAAM,gBAgBTE,EAAUJ,IAAOC,IAAV,2I,OClCdI,EAA4C,SAACC,GACjD,IAAQC,EAAUD,EAAVC,MACR,OACE,gCACE,eAACR,EAAD,WACE,sBAAMS,UAAU,gBAAhB,oBACA,sBAAMA,UAAU,QAAhB,oBACA,sBAAMA,UAAU,kBAAhB,uBAEF,eAACL,EAAD,WACE,cAAC,IAAD,CAASM,GAAG,aAAaC,gBAAgB,WAAzC,SACE,cAACN,EAAD,UACE,sDAGJ,cAAC,IAAD,CAASK,GAAG,WAAWC,gBAAgB,WAAvC,SACE,cAACN,EAAD,UACE,sDAGJ,cAAC,IAAD,CAASK,GAAG,QAAQC,gBAAgB,WAApC,SACE,cAACN,EAAD,UACE,+DAILO,YAAY,OAACJ,QAAD,IAACA,OAAD,EAACA,EAAOK,YAKZC,iBAAKR,GC/BPS,EAAkDC,I,QCHlDC,EAAkBhB,IAAOC,IAAV,gmBAYVC,EAAM,eAgBJA,EAAM,gB,QClBpBe,G,MAAgC,SAACX,GACrC,MAAwCY,mBAAwB,MAAhE,mBAAOC,EAAP,KAAqBC,EAArB,KACQhD,EAAekC,EAAflC,WAgBR,OAdAiD,qBAAU,WACR,GAAIjD,EAAWkD,SAAWH,EAAc,CACtC,IAAII,EAAkB,IAAIC,IAAO,oBAAqB,CACpDC,MAAM,EACNC,SAAU,CACRC,MAAO,IACPC,sBAAsB,GAExBC,WAAY,CAAEC,GAAI,wBAEpBV,EAAgBG,MAEjB,CAACnD,EAAWkD,OAAQH,IAGrB,eAACH,EAAD,WACE,qBAAKR,UAAU,WACf,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,iBAAf,SACGpC,EAAW2D,KAAI,SAACC,EAAQC,GACvB,OACE,qBAAKzB,UAAU,eAAf,SACE,qBAAKA,UAAU,aAAf,SACE,qBACE0B,IAAKF,EAAOG,SACZC,MAAM,OACNC,OAAO,OACPC,IAAI,oBANyBL,EAAIM,iBAa7C,qBAAK/B,UAAU,8BAMRK,iBAAKI,GCzDPuB,EAAW,SAACC,GACvB,KAAIA,EAAQ,GACZ,OAAIA,EAAQ,IACHA,EAAMF,WACJG,KAAKC,MAAMF,EAAQ,KAAS,IAC9BC,KAAKC,MAAMF,EAAQ,KAAQ,GAAK,SAEhCC,KAAKC,MAAMF,EAAQ,KAAY,GAAK,UCJlCG,EAAc5C,IAAOC,IAAV,8JASX4C,GAAO7C,IAAOC,IAAV,4IAQJ6C,GAAW9C,IAAOC,IAAV,83BAqBFC,EAAM,eAEVA,EAAM,oBAkBJA,EAAM,eAEVA,EAAM,oBC9Cb6C,GAA8C,SAACzC,GACnD,IAAQjC,EAAkBiC,EAAlBjC,cACR,OACE,eAACuE,EAAD,WACE,oBAAIpC,UAAU,QAAd,sCACA,cAACqC,GAAD,UACGxE,EAAc0D,KAAI,SAACiB,EAAMf,GACxB,OACE,eAACa,GAAD,WACE,sBAAKtC,UAAU,cAAf,UACE,qBAAKA,UAAU,aACf,qBACE0B,IAAKc,EAAKC,OAAS,iBACnBb,MAAM,OACNC,OAAO,OACPC,IAAI,UAEN,sBAAK9B,UAAU,aAAf,UACE,mBAAGA,UAAU,gBAAb,oBACA,sBAAMA,UAAU,QAAhB,SAAyBgC,EAASQ,EAAKE,mBAG3C,qBAAK1C,UAAU,OAAf,SAAuBwC,EAAK9E,SAdf8E,EAAKG,aAuBjBtC,kBAAKkC,I,SCpCdK,GAAkBpD,IAAOC,IAAV,kFAuHNoD,GApGAC,sBAAgD,SAAChD,EAAOiD,GACrE,MAA8BrC,mBAAyB,MAAvD,mBAAOsC,EAAP,KAAgBC,EAAhB,KAEMC,EAAqBC,iBAAuB,MAElD,EAMIrD,EALFsD,iBADF,MACc,WADd,IAMItD,EAJFuD,aAFF,WAMIvD,EAHFwD,eAHF,WAMIxD,EAFFyD,iBAJF,WAMIzD,EADF0D,oBALF,SASQC,EAA+B3D,EAA/B2D,OAAQC,EAAuB5D,EAAvB4D,SAAUC,EAAa7D,EAAb6D,SAiF1B,OA/EA9C,qBAAU,WAER,IAAM+C,EAAS,IAAIC,KAAQX,EAAmBY,QAAU,CACtDC,QAAuB,eAAdX,EACTY,QAAuB,aAAdZ,EACTa,UAAW,EACXZ,MAAOA,EACPa,OAAQ,CACNC,IAAKZ,EACLa,OAAQZ,KAIZ,OADAP,EAAWW,GACJ,WACLX,EAAW,SAGZ,IAGHpC,qBAAU,WACR,GAAKmC,GAAYW,EAMjB,OALAX,EAAQqB,GAAG,UAAU,SAACT,GACpB/G,QAAQC,IAAI,SAAU8G,GAEtBD,EAASC,MAEJ,WACLZ,EAAQsB,IAAI,aAEb,CAACX,EAAUX,IAGdnC,qBAAU,WACR,GAAKmC,GAAYS,EAMjB,OALAT,EAAQqB,GAAG,aAAa,WAClBrB,EAAQuB,GAAKvB,EAAQwB,WAAa,KACpCf,OAGG,WACLT,EAAQsB,IAAI,gBAEb,CAACb,EAAQT,IAGZnC,qBAAU,WACR,GAAKmC,GAAYU,EAMjB,OALAV,EAAQqB,GAAG,YAAY,SAACI,GAClBA,EAAIF,EAAI,IACVb,OAGG,WACLV,EAAQsB,IAAI,eAEb,CAACZ,EAAUV,IAEdnC,qBAAU,WACJyC,GAAWN,GACbA,EAAQM,aAKZoB,8BAAoB3B,GAAK,iBAAO,CAC9BO,QAD8B,WAExBN,IACFA,EAAQM,UACRN,EAAQ2B,SAAS,EAAG,KAGxBC,WAP8B,WAQ5B,GAAI5B,EACF,OAAOA,OAMX,cAACJ,GAAD,CAAiBG,IAAKG,EAAtB,SAA2CpD,EAAM+E,cC5HxCC,GAAUtF,IAAOC,IAAV,oNAUFC,EAAM,gBCIlBqF,GAAsB,WAC1B,IAAMC,ERb4BC,cQe5BpH,EAAgByC,EAAexB,GAC/BlB,EAAa0C,EAAe1B,GAQlC,OANAiC,qBAAU,WACRmE,EAAS3H,KACT2H,EAASzH,OAER,IAGD,cAACuH,GAAD,UACE,cAAC,GAAD,UACE,gCACE,cAAC,EAAD,CAAQlH,WAAYA,IACpB,cAAC,GAAD,CAAeC,cAAeA,YChClCqH,GAAoB,kBAAM,2CCA1BC,GAAiB,kBAAM,wCCkCd/E,GA1Be,CAC5B,CACEgF,KAAM,IACNC,UAAWxF,EACXO,OAAQ,CACN,CACEgF,KAAM,IACNE,OAAO,EACPC,OAAQ,kBAAM,cAAC,IAAD,CAAUtF,GAAG,iBAE7B,CACEmF,KAAM,aACNC,UHmBOhF,eAAK0E,KGjBd,CACEK,KAAM,WACNC,UFtBOhF,eAAK6E,KEwBd,CACEE,KAAM,QACNC,UD1BOhF,eAAK8E,QEFPK,GAAcC,YAAH,ivCCmBTC,OAZf,WACE,OACE,cAAC,IAAD,CAAU1G,MAAOA,EAAjB,SACE,eAAC,IAAD,WACE,cAACwG,GAAD,IAECrF,YAAaC,UCDPuF,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCJdQ,IAASb,OACP,cAAC,IAAMc,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAM1BZ,O","file":"static/js/main.c7b7a647.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const baseUrl = \"https://music-api-five.vercel.app/\";\n\nconst http = axios.create({\n  baseURL: baseUrl,\n});\n\nhttp.interceptors.response.use(\n  (res) => res.data,\n  (err) => {\n    console.log(err, \"网络错误\");\n    return Promise.reject(err);\n  }\n);\n\nexport { http };\n","import { http } from \"./config\";\nimport type { IRecommend, RecommendResponse } from \"../types/api/recommend\";\nimport type { IBanner, BannerResponse } from \"../types/api/banner\";\n\nexport const getBannerRequest = async () =>\n  await http.get<IBanner[], BannerResponse>(\"/banner\");\nexport const getRecommendListRequest = async () =>\n  await http.get<IRecommend[], RecommendResponse>(\"/personalized\");\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport {\n  getBannerRequest,\n  getRecommendListRequest,\n} from \"../../../api/request\";\n\nexport const getBannerList = createAsyncThunk(\n  \"recommend/getBannerList\",\n  async () => await getBannerRequest()\n);\n\nexport const getRecommendList = createAsyncThunk(\n  \"recommend/getRecommendList\",\n  async () => await getRecommendListRequest()\n);\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport type { PayloadAction } from \"@reduxjs/toolkit\";\nimport type { RootState } from \"../../index\";\nimport type { IRecommend } from \"../../../types/api/recommend\";\nimport type { IBanner } from \"../../../types/api/banner\";\nimport { getBannerList, getRecommendList } from \"./services\";\n\ninterface IRecommendState {\n  bannerList: IBanner[];\n  recommendList: IRecommend[];\n}\n\nconst initialState: IRecommendState = {\n  bannerList: [],\n  recommendList: [],\n};\n\nexport const recommendSlice = createSlice({\n  name: \"recommend\",\n  initialState,\n  reducers: {\n    changeBanner: (state, action: PayloadAction<IBanner[]>) => {\n      state.bannerList = action.payload;\n    },\n    changeRecommendList: (state, action: PayloadAction<IRecommend[]>) => {\n      state.recommendList = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(getBannerList.fulfilled, (state, action) => {\n      state.bannerList = action.payload.banners;\n    });\n\n    builder.addCase(getBannerList.rejected, (state, action) => {\n      console.log(\"轮播图数据传输错误\", action.error);\n    });\n\n    builder.addCase(getRecommendList.fulfilled, (state, action) => {\n      state.recommendList = action.payload.result;\n    });\n\n    builder.addCase(getRecommendList.rejected, (state, action) => {\n      console.log(\"推荐歌单数据传输错误\", action.error);\n    });\n  },\n});\n\nexport const selectBannerList = (state: RootState) =>\n  state.recommend.bannerList;\nexport const selectRecommendList = (state: RootState) =>\n  state.recommend.recommendList;\n\nexport const { changeBanner, changeRecommendList } = recommendSlice.actions;\n\nexport default recommendSlice.reducer;\n","import { configureStore, ThunkAction, Action } from \"@reduxjs/toolkit\";\nimport recommendReducer from \"./features/recommend/slice\";\n\nconst store = configureStore({\n  reducer: {\n    recommend: recommendReducer,\n  },\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n\nexport default store;\n","// 扩大可点击区域\nconst extendClick = () => {\n  return `\n    position: relative;\n    &:before {\n      content: '';\n      position: absolute;\n      top: -10px; bottom: -10px; left: -10px; right: -10px;\n    };\n  `;\n};\n// 一行文字溢出部分用... 代替\nconst noWrap = () => {\n  return `\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n  `;\n};\n\nconst globalStyle = {\n  \"theme-color\": \"#d44439\",\n  \"theme-color-shadow\": \"rgba (212, 68, 57, .5)\",\n  \"font-color-light\": \"#f1f1f1\",\n  \"font-color-desc\": \"#2E3030\",\n  \"font-color-desc-v2\": \"#bba8a8\", // 略淡\n  \"font-size-ss\": \"10px\",\n  \"font-size-s\": \"12px\",\n  \"font-size-m\": \"14px\",\n  \"font-size-l\": \"16px\",\n  \"font-size-ll\": \"18px\",\n  \"border-color\": \"#e4e4e4\",\n  \"background-color\": \"#f2f3f4\",\n  \"background-color-shadow\": \"rgba (0, 0, 0, 0.3)\",\n  \"highlight-background-color\": \"#fff\",\n  extendClick,\n  noWrap,\n};\n\nexport default globalStyle;\n","import styled from \"styled-components\";\nimport style from \"../../assets/global-style\";\n\nexport const Top = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 5px 10px;\n  background: ${style[\"theme-color\"]};\n  & > span {\n    line-height: 40px;\n    color: #f1f1f1;\n    font-size: 20px;\n    &.iconfont {\n      font-size: 25px;\n    }\n  }\n`;\n\nexport const Tab = styled.div`\n  height: 44px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  background: ${style[\"theme-color\"]};\n  a {\n    flex: 1;\n    padding: 2px 0;\n    font-size: 14px;\n    color: #e4e4e4;\n    &.selected {\n      span {\n        padding: 3px 0;\n        font-weight: 700;\n        color: #f1f1f1;\n        border-bottom: 2px solid #f1f1f1;\n      }\n    }\n  }\n`;\nexport const TabItem = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n`;\n","import React, { memo } from \"react\";\nimport { renderRoutes, RouteConfigComponentProps } from \"react-router-config\";\nimport { NavLink } from \"react-router-dom\";\n\nimport { Top, Tab, TabItem } from \"./style\";\n\nconst Home: React.FC<RouteConfigComponentProps> = (props) => {\n  const { route } = props;\n  return (\n    <div>\n      <Top>\n        <span className=\"iconfont menu\">&#xe65c;</span>\n        <span className=\"title\">WebApp</span>\n        <span className=\"iconfont search\">&#xe62b;</span>\n      </Top>\n      <Tab>\n        <NavLink to=\"/recommend\" activeClassName=\"selected\">\n          <TabItem>\n            <span> 推荐 </span>\n          </TabItem>\n        </NavLink>\n        <NavLink to=\"/singers\" activeClassName=\"selected\">\n          <TabItem>\n            <span> 歌手 </span>\n          </TabItem>\n        </NavLink>\n        <NavLink to=\"/rank\" activeClassName=\"selected\">\n          <TabItem>\n            <span> 排行榜 </span>\n          </TabItem>\n        </NavLink>\n      </Tab>\n      {renderRoutes(route?.routes)}\n    </div>\n  );\n};\n\nexport default memo(Home);\n","import { useDispatch, useSelector } from \"react-redux\";\nimport type { TypedUseSelectorHook } from \"react-redux\";\n\nimport type { RootState, AppDispatch } from \"./index\";\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import styled from \"styled-components\";\nimport style from \"../../assets/global-style\";\n\nexport const SliderContainer = styled.div`\n  position: relative;\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  margin: auto;\n  background: white;\n  .before {\n    position: absolute;\n    top: 0;\n    height: 60%;\n    width: 100%;\n    background: ${style[\"theme-color\"]};\n  }\n  .slider-container {\n    position: relative;\n    width: 98%;\n    height: 160px;\n    overflow: hidden;\n    margin: auto;\n    border-radius: 6px;\n    .slider-nav {\n      position: absolute;\n      display: block;\n      width: 100%;\n      height: 100%;\n    }\n    .swiper-pagination-bullet-active {\n      background: ${style[\"theme-color\"]};\n    }\n  }\n`;\n","import React, { useState, useEffect, memo } from \"react\";\nimport { SliderContainer } from \"./style\";\nimport { Swiper } from \"swiper\";\nimport \"swiper/swiper.min.css\";\n\ninterface IBanner {\n  imageUrl: string;\n}\n\ntype SliderProps = {\n  bannerList: IBanner[];\n};\n\nconst Slider: React.FC<SliderProps> = (props) => {\n  const [sliderSwiper, setSliderSwiper] = useState<Swiper | null>(null);\n  const { bannerList } = props;\n\n  useEffect(() => {\n    if (bannerList.length && !sliderSwiper) {\n      let newSliderSwiper = new Swiper(\".slider-container\", {\n        loop: true,\n        autoplay: {\n          delay: 3000,\n          disableOnInteraction: false,\n        },\n        pagination: { el: \".swiper-pagination\" },\n      });\n      setSliderSwiper(newSliderSwiper);\n    }\n  }, [bannerList.length, sliderSwiper]);\n\n  return (\n    <SliderContainer>\n      <div className=\"before\"></div>\n      <div className=\"slider-container\">\n        <div className=\"swiper-wrapper\">\n          {bannerList.map((slider, idx) => {\n            return (\n              <div className=\"swiper-slide\" key={idx.toString()}>\n                <div className=\"slider-nav\">\n                  <img\n                    src={slider.imageUrl}\n                    width=\"100%\"\n                    height=\"100%\"\n                    alt=\"推荐\"\n                  />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n        <div className=\"swiper-pagination\"></div>\n      </div>\n    </SliderContainer>\n  );\n};\n\nexport default memo(Slider);\n","export const getCount = (count: number) => {\n  if (count < 0) return;\n  if (count < 10000) {\n    return count.toString();\n  } else if (Math.floor(count / 10000) < 10000) {\n    return Math.floor(count / 1000) / 10 + \"万\";\n  } else {\n    return Math.floor(count / 10000000) / 10 + \"亿\";\n  }\n};\n","import styled from \"styled-components\";\nimport style from \"../../assets/global-style\";\n\nexport const ListWrapper = styled.div`\n  max-width: 100%;\n  .title {\n    font-weight: 700;\n    padding-left: 6px;\n    font-size: 14px;\n    line-height: 60px;\n  }\n`;\nexport const List = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nexport const ListItem = styled.div`\n  position: relative;\n  width: 32%;\n\n  .img_wrapper {\n    .decorate {\n      position: absolute;\n      top: 0;\n      width: 100%;\n      height: 35px;\n      border-radius: 3px;\n      background: linear-gradient\n        (hsla (0, 0%, 43%, 0.4), hsla (0, 0%, 100%, 0));\n    }\n    position: relative;\n    height: 0;\n    padding-bottom: 100%;\n    .play_count {\n      position: absolute;\n      right: 2px;\n      top: 2px;\n      font-size: ${style[\"font-size-s\"]};\n      line-height: 15px;\n      color: ${style[\"font-color-light\"]};\n      .play {\n        vertical-align: top;\n      }\n    }\n    img {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      border-radius: 3px;\n    }\n  }\n  .desc {\n    overflow: hidden;\n    margin-top: 2px;\n    padding: 0 2px;\n    height: 50px;\n    text-align: left;\n    font-size: ${style[\"font-size-s\"]};\n    line-height: 1.4;\n    color: ${style[\"font-color-desc\"]};\n  }\n`;\n","import React, { memo } from \"react\";\nimport { getCount } from \"../../api/utils\";\nimport { ListWrapper, ListItem, List } from \"./style\";\n\nimport type { IRecommend } from \"../../types/api/recommend\";\n\n// export interface IRecommend {\n//   id: number;\n//   picUrl: string;\n//   playCount: number;\n//   name: string;\n// }\n\ntype RecommendListProps = {\n  recommendList: IRecommend[];\n};\n\nconst RecommendList: React.FC<RecommendListProps> = (props) => {\n  const { recommendList } = props;\n  return (\n    <ListWrapper>\n      <h1 className=\"title\">推荐歌单</h1>\n      <List>\n        {recommendList.map((item, idx) => {\n          return (\n            <ListItem key={item.id}>\n              <div className=\"img_wrapper\">\n                <div className=\"decorate\"></div>\n                <img\n                  src={item.picUrl + \"?param=300x300\"}\n                  width=\"100%\"\n                  height=\"100%\"\n                  alt=\"music\"\n                />\n                <div className=\"play_count\">\n                  <i className=\"iconfont play\">&#xe885;</i>\n                  <span className=\"count\">{getCount(item.playCount)}</span>\n                </div>\n              </div>\n              <div className=\"desc\">{item.name}</div>\n            </ListItem>\n          );\n        })}\n      </List>\n    </ListWrapper>\n  );\n};\n\nexport default memo(RecommendList);\n","import React, {\n  useState,\n  useEffect,\n  useRef,\n  useImperativeHandle,\n  forwardRef,\n  PropsWithChildren,\n} from \"react\";\n\nimport BScroll, { TranslaterPoint } from \"@better-scroll/core\";\nimport styled from \"styled-components\";\n\nconst ScrollContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n`;\n\ntype ScrollProps = {\n  direction?: \"vertical\" | \"horizontal\";\n  click?: boolean;\n  refresh?: boolean;\n  pullUpLoading?: boolean;\n  pullDownLoading?: boolean;\n  bounceTop?: boolean;\n  bounceBottom?: boolean;\n  onScroll?: (scroll: any) => void;\n  pullUp?: () => void;\n  pullDown?: () => void;\n};\n\nconst Scroll = forwardRef<any, PropsWithChildren<ScrollProps>>((props, ref) => {\n  const [bScroll, setBScroll] = useState<BScroll | null>(null);\n\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\n\n  const {\n    direction = \"vertical\",\n    click = true,\n    refresh = true,\n    bounceTop = true,\n    bounceBottom = true,\n  } = props;\n\n  // methods\n  const { pullUp, pullDown, onScroll } = props;\n\n  useEffect(() => {\n    // 初始化\n    const scroll = new BScroll(scrollContainerRef.current!, {\n      scrollX: direction === \"horizontal\",\n      scrollY: direction === \"vertical\",\n      probeType: 3,\n      click: click,\n      bounce: {\n        top: bounceTop,\n        bottom: bounceBottom,\n      },\n    });\n    setBScroll(scroll);\n    return () => {\n      setBScroll(null);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // 绑定 onScroll 事件回调API\n  useEffect(() => {\n    if (!bScroll || !onScroll) return;\n    bScroll.on(\"scroll\", (scroll: any) => {\n      console.log(\"scroll\", scroll);\n\n      onScroll(scroll);\n    });\n    return () => {\n      bScroll.off(\"scroll\");\n    };\n  }, [onScroll, bScroll]);\n\n  // 绑定 pullUp 事件回调API\n  useEffect(() => {\n    if (!bScroll || !pullUp) return;\n    bScroll.on(\"scrollEnd\", () => {\n      if (bScroll.y <= bScroll.maxScrollY + 100) {\n        pullUp();\n      }\n    });\n    return () => {\n      bScroll.off(\"scrollEnd\");\n    };\n  }, [pullUp, bScroll]);\n\n  // 绑定 pullDown 事件回调API\n  useEffect(() => {\n    if (!bScroll || !pullDown) return;\n    bScroll.on(\"touchEnd\", (pos: TranslaterPoint) => {\n      if (pos.y > 50) {\n        pullDown();\n      }\n    });\n    return () => {\n      bScroll.off(\"touchEnd\");\n    };\n  }, [pullDown, bScroll]);\n\n  useEffect(() => {\n    if (refresh && bScroll) {\n      bScroll.refresh();\n    }\n  });\n\n  // 定制上层ref 返回内容\n  useImperativeHandle(ref, () => ({\n    refresh() {\n      if (bScroll) {\n        bScroll.refresh();\n        bScroll.scrollTo(0, 0);\n      }\n    },\n    getBScroll() {\n      if (bScroll) {\n        return bScroll;\n      }\n    },\n  }));\n\n  return (\n    <ScrollContainer ref={scrollContainerRef}>{props.children}</ScrollContainer>\n  );\n});\n\nexport default Scroll;\n","import styled from \"styled-components\";\nimport style from \"../../assets/global-style\";\n\nexport const Content = styled.div`\n  position: fixed;\n  top: 90px;\n  bottom: 0;\n  width: 100%;\n  .before {\n    position: absolute;\n    top: -300px;\n    height: 400px;\n    width: 100%;\n    background: ${style[\"theme-color\"]};\n  }\n`;\n","import React, { memo, useEffect } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"../../store/hooks\";\nimport Slider from \"../../components/slider\";\nimport RecommendList from \"../../components/list\";\nimport Scroll from \"../../baseUI/scroll\";\n\nimport {\n  selectBannerList,\n  selectRecommendList,\n} from \"../../store/features/recommend/slice\";\nimport {\n  getBannerList,\n  getRecommendList,\n} from \"../../store/features/recommend/services\";\n\nimport { Content } from \"./style\";\n\nconst Recommend: React.FC = () => {\n  const dispatch = useAppDispatch();\n\n  const recommendList = useAppSelector(selectRecommendList);\n  const bannerList = useAppSelector(selectBannerList);\n\n  useEffect(() => {\n    dispatch(getBannerList());\n    dispatch(getRecommendList());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Content>\n      <Scroll>\n        <div>\n          <Slider bannerList={bannerList}></Slider>\n          <RecommendList recommendList={recommendList}></RecommendList>\n        </div>\n      </Scroll>\n    </Content>\n  );\n};\n\nexport default memo(Recommend);\n","import React, { memo } from \"react\";\n\nconst Singers: React.FC = () => <div>Singers</div>;\n\nexport default memo(Singers);\n","import React, { memo } from \"react\";\n\nconst Rank: React.FC = () => <div>Rank</div>;\n\nexport default memo(Rank);\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nimport { RouteConfig } from \"react-router-config\";\n\nimport Home from \"../application/Home\";\nimport Recommend from \"../application/Recommend\";\nimport Singers from \"../application/Singers\";\nimport Rank from \"../application/Rank\";\n\nconst routes: RouteConfig[] = [\n  {\n    path: \"/\",\n    component: Home,\n    routes: [\n      {\n        path: \"/\",\n        exact: true,\n        render: () => <Redirect to=\"/recommend\"></Redirect>,\n      },\n      {\n        path: \"/recommend\",\n        component: Recommend,\n      },\n      {\n        path: \"/singers\",\n        component: Singers,\n      },\n      {\n        path: \"/rank\",\n        component: Rank,\n      },\n    ],\n  },\n];\n\nexport default routes;\n","import { createGlobalStyle } from \"styled-components\";\n\nexport const GlobalStyle = createGlobalStyle`\n\thtml, body, div, span, applet, object, iframe,\n\th1, h2, h3, h4, h5, h6, p, blockquote, pre,\n\ta, abbr, acronym, address, big, cite, code,\n\tdel, dfn, em, img, ins, kbd, q, s, samp,\n\tsmall, strike, strong, sub, sup, tt, var,\n\tb, u, i, center,\n\tdl, dt, dd, ol, ul, li,\n\tfieldset, form, label, legend,\n\ttable, caption, tbody, tfoot, thead, tr, th, td,\n\tarticle, aside, canvas, details, embed,\n\tfigure, figcaption, footer, header, hgroup,\n\tmenu, nav, output, ruby, section, summary,\n\ttime, mark, audio, video {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tborder: 0;\n\t\tfont-size: 100%;\n\t\tfont: inherit;\n\t\tvertical-align: baseline;\n\t}\n\t/* HTML5 display-role reset for older browsers */\n\tarticle, aside, details, figcaption, figure,\n\tfooter, header, hgroup, menu, nav, section {\n\t\tdisplay: block;\n\t}\n\tbody {\n\t\tline-height: 1;\n\t}\n\thtml, body {\n\t\tbackground: #f2f3f4;;\n\t}\n\tol, ul {\n\t\tlist-style: none;\n\t}\n\tblockquote, q {\n\t\tquotes: none;\n\t}\n\tblockquote:before, blockquote:after,\n\tq:before, q:after {\n\t\tcontent: '';\n\t\tcontent: none;\n\t}\n\ttable {\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\t}\n\ta {\n\t\ttext-decoration: none;\n\t\tcolor: #fff;\n\t}\n`;\n","import React from \"react\";\nimport { renderRoutes } from \"react-router-config\";\nimport { HashRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\n\nimport store from \"./store\";\nimport routes from \"./routes\";\nimport { GlobalStyle } from \"./style\";\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <HashRouter>\n        <GlobalStyle></GlobalStyle>\n        {/* <i className=\"iconfont\">&#xe62b;</i> */}\n        {renderRoutes(routes)}\n      </HashRouter>\n    </Provider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}