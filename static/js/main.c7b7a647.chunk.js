(this["webpackJsonpcloud-music"]=this["webpackJsonpcloud-music"]||[]).push([[0],{72:function(n,e,t){"use strict";t.r(e);var o=t(0),r=t.n(o),c=t(19),i=t.n(c),a=t(20),s=t(14),l=t(18),d=t(15),u=t(11),b=t.n(u),f=t(17),p=t(36),h=t.n(p).a.create({baseURL:"https://music-api-five.vercel.app/"});h.interceptors.response.use((function(n){return n.data}),(function(n){return console.log(n,"\u7f51\u7edc\u9519\u8bef"),Promise.reject(n)}));var j,m,x,g,O,v,w,y,k,L,N=function(){var n=Object(f.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.get("/banner");case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),z=function(){var n=Object(f.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.get("/personalized");case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),E=Object(d.b)("recommend/getBannerList",Object(f.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N();case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))),C=Object(d.b)("recommend/getRecommendList",Object(f.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,z();case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))),S=Object(d.c)({name:"recommend",initialState:{bannerList:[],recommendList:[]},reducers:{changeBanner:function(n,e){n.bannerList=e.payload},changeRecommendList:function(n,e){n.recommendList=e.payload}},extraReducers:function(n){n.addCase(E.fulfilled,(function(n,e){n.bannerList=e.payload.banners})),n.addCase(E.rejected,(function(n,e){console.log("\u8f6e\u64ad\u56fe\u6570\u636e\u4f20\u8f93\u9519\u8bef",e.error)})),n.addCase(C.fulfilled,(function(n,e){n.recommendList=e.payload.result})),n.addCase(C.rejected,(function(n,e){console.log("\u63a8\u8350\u6b4c\u5355\u6570\u636e\u4f20\u8f93\u9519\u8bef",e.error)}))}}),q=function(n){return n.recommend.bannerList},R=function(n){return n.recommend.recommendList},B=S.actions,T=(B.changeBanner,B.changeRecommendList,S.reducer),M=Object(d.a)({reducer:{recommend:T}}),F=t(3),I=t(4),U=t(5),_={"theme-color":"#d44439","theme-color-shadow":"rgba (212, 68, 57, .5)","font-color-light":"#f1f1f1","font-color-desc":"#2E3030","font-color-desc-v2":"#bba8a8","font-size-ss":"10px","font-size-s":"12px","font-size-m":"14px","font-size-l":"16px","font-size-ll":"18px","border-color":"#e4e4e4","background-color":"#f2f3f4","background-color-shadow":"rgba (0, 0, 0, 0.3)","highlight-background-color":"#fff",extendClick:function(){return"\n    position: relative;\n    &:before {\n      content: '';\n      position: absolute;\n      top: -10px; bottom: -10px; left: -10px; right: -10px;\n    };\n  "},noWrap:function(){return"\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n  "}},P=U.b.div(j||(j=Object(I.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 5px 10px;\n  background: ",";\n  & > span {\n    line-height: 40px;\n    color: #f1f1f1;\n    font-size: 20px;\n    &.iconfont {\n      font-size: 25px;\n    }\n  }\n"])),_["theme-color"]),D=U.b.div(m||(m=Object(I.a)(["\n  height: 44px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  background: ",";\n  a {\n    flex: 1;\n    padding: 2px 0;\n    font-size: 14px;\n    color: #e4e4e4;\n    &.selected {\n      span {\n        padding: 3px 0;\n        font-weight: 700;\n        color: #f1f1f1;\n        border-bottom: 2px solid #f1f1f1;\n      }\n    }\n  }\n"])),_["theme-color"]),H=U.b.div(x||(x=Object(I.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n"]))),J=t(1),W=function(n){var e=n.route;return Object(J.jsxs)("div",{children:[Object(J.jsxs)(P,{children:[Object(J.jsx)("span",{className:"iconfont menu",children:"\ue65c"}),Object(J.jsx)("span",{className:"title",children:"WebApp"}),Object(J.jsx)("span",{className:"iconfont search",children:"\ue62b"})]}),Object(J.jsxs)(D,{children:[Object(J.jsx)(s.b,{to:"/recommend",activeClassName:"selected",children:Object(J.jsx)(H,{children:Object(J.jsx)("span",{children:" \u63a8\u8350 "})})}),Object(J.jsx)(s.b,{to:"/singers",activeClassName:"selected",children:Object(J.jsx)(H,{children:Object(J.jsx)("span",{children:" \u6b4c\u624b "})})}),Object(J.jsx)(s.b,{to:"/rank",activeClassName:"selected",children:Object(J.jsx)(H,{children:Object(J.jsx)("span",{children:" \u6392\u884c\u699c "})})})]}),Object(a.a)(null===e||void 0===e?void 0:e.routes)]})},Y=Object(o.memo)(W),A=l.c,X=t(21),G=U.b.div(g||(g=Object(I.a)(["\n  position: relative;\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  margin: auto;\n  background: white;\n  .before {\n    position: absolute;\n    top: 0;\n    height: 60%;\n    width: 100%;\n    background: ",";\n  }\n  .slider-container {\n    position: relative;\n    width: 98%;\n    height: 160px;\n    overflow: hidden;\n    margin: auto;\n    border-radius: 6px;\n    .slider-nav {\n      position: absolute;\n      display: block;\n      width: 100%;\n      height: 100%;\n    }\n    .swiper-pagination-bullet-active {\n      background: ",";\n    }\n  }\n"])),_["theme-color"],_["theme-color"]),K=t(74),Q=(t(71),function(n){var e=Object(o.useState)(null),t=Object(X.a)(e,2),r=t[0],c=t[1],i=n.bannerList;return Object(o.useEffect)((function(){if(i.length&&!r){var n=new K.a(".slider-container",{loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination"}});c(n)}}),[i.length,r]),Object(J.jsxs)(G,{children:[Object(J.jsx)("div",{className:"before"}),Object(J.jsxs)("div",{className:"slider-container",children:[Object(J.jsx)("div",{className:"swiper-wrapper",children:i.map((function(n,e){return Object(J.jsx)("div",{className:"swiper-slide",children:Object(J.jsx)("div",{className:"slider-nav",children:Object(J.jsx)("img",{src:n.imageUrl,width:"100%",height:"100%",alt:"\u63a8\u8350"})})},e.toString())}))}),Object(J.jsx)("div",{className:"swiper-pagination"})]})]})}),V=Object(o.memo)(Q),Z=function(n){if(!(n<0))return n<1e4?n.toString():Math.floor(n/1e4)<1e4?Math.floor(n/1e3)/10+"\u4e07":Math.floor(n/1e7)/10+"\u4ebf"},$=U.b.div(O||(O=Object(I.a)(["\n  max-width: 100%;\n  .title {\n    font-weight: 700;\n    padding-left: 6px;\n    font-size: 14px;\n    line-height: 60px;\n  }\n"]))),nn=U.b.div(v||(v=Object(I.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]))),en=U.b.div(w||(w=Object(I.a)(["\n  position: relative;\n  width: 32%;\n\n  .img_wrapper {\n    .decorate {\n      position: absolute;\n      top: 0;\n      width: 100%;\n      height: 35px;\n      border-radius: 3px;\n      background: linear-gradient\n        (hsla (0, 0%, 43%, 0.4), hsla (0, 0%, 100%, 0));\n    }\n    position: relative;\n    height: 0;\n    padding-bottom: 100%;\n    .play_count {\n      position: absolute;\n      right: 2px;\n      top: 2px;\n      font-size: ",";\n      line-height: 15px;\n      color: ",";\n      .play {\n        vertical-align: top;\n      }\n    }\n    img {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      border-radius: 3px;\n    }\n  }\n  .desc {\n    overflow: hidden;\n    margin-top: 2px;\n    padding: 0 2px;\n    height: 50px;\n    text-align: left;\n    font-size: ",";\n    line-height: 1.4;\n    color: ",";\n  }\n"])),_["font-size-s"],_["font-color-light"],_["font-size-s"],_["font-color-desc"]),tn=function(n){var e=n.recommendList;return Object(J.jsxs)($,{children:[Object(J.jsx)("h1",{className:"title",children:"\u63a8\u8350\u6b4c\u5355"}),Object(J.jsx)(nn,{children:e.map((function(n,e){return Object(J.jsxs)(en,{children:[Object(J.jsxs)("div",{className:"img_wrapper",children:[Object(J.jsx)("div",{className:"decorate"}),Object(J.jsx)("img",{src:n.picUrl+"?param=300x300",width:"100%",height:"100%",alt:"music"}),Object(J.jsxs)("div",{className:"play_count",children:[Object(J.jsx)("i",{className:"iconfont play",children:"\ue885"}),Object(J.jsx)("span",{className:"count",children:Z(n.playCount)})]})]}),Object(J.jsx)("div",{className:"desc",children:n.name})]},n.id)}))})]})},on=Object(o.memo)(tn),rn=t(41),cn=U.b.div(y||(y=Object(I.a)(["\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n"]))),an=Object(o.forwardRef)((function(n,e){var t=Object(o.useState)(null),r=Object(X.a)(t,2),c=r[0],i=r[1],a=Object(o.useRef)(null),s=n.direction,l=void 0===s?"vertical":s,d=n.click,u=void 0===d||d,b=n.refresh,f=void 0===b||b,p=n.bounceTop,h=void 0===p||p,j=n.bounceBottom,m=void 0===j||j,x=n.pullUp,g=n.pullDown,O=n.onScroll;return Object(o.useEffect)((function(){var n=new rn.a(a.current,{scrollX:"horizontal"===l,scrollY:"vertical"===l,probeType:3,click:u,bounce:{top:h,bottom:m}});return i(n),function(){i(null)}}),[]),Object(o.useEffect)((function(){if(c&&O)return c.on("scroll",(function(n){console.log("scroll",n),O(n)})),function(){c.off("scroll")}}),[O,c]),Object(o.useEffect)((function(){if(c&&x)return c.on("scrollEnd",(function(){c.y<=c.maxScrollY+100&&x()})),function(){c.off("scrollEnd")}}),[x,c]),Object(o.useEffect)((function(){if(c&&g)return c.on("touchEnd",(function(n){n.y>50&&g()})),function(){c.off("touchEnd")}}),[g,c]),Object(o.useEffect)((function(){f&&c&&c.refresh()})),Object(o.useImperativeHandle)(e,(function(){return{refresh:function(){c&&(c.refresh(),c.scrollTo(0,0))},getBScroll:function(){if(c)return c}}})),Object(J.jsx)(cn,{ref:a,children:n.children})})),sn=U.b.div(k||(k=Object(I.a)(["\n  position: fixed;\n  top: 90px;\n  bottom: 0;\n  width: 100%;\n  .before {\n    position: absolute;\n    top: -300px;\n    height: 400px;\n    width: 100%;\n    background: ",";\n  }\n"])),_["theme-color"]),ln=function(){var n=Object(l.b)(),e=A(R),t=A(q);return Object(o.useEffect)((function(){n(E()),n(C())}),[]),Object(J.jsx)(sn,{children:Object(J.jsx)(an,{children:Object(J.jsxs)("div",{children:[Object(J.jsx)(V,{bannerList:t}),Object(J.jsx)(on,{recommendList:e})]})})})},dn=function(){return Object(J.jsx)("div",{children:"Singers"})},un=function(){return Object(J.jsx)("div",{children:"Rank"})},bn=[{path:"/",component:Y,routes:[{path:"/",exact:!0,render:function(){return Object(J.jsx)(F.a,{to:"/recommend"})}},{path:"/recommend",component:Object(o.memo)(ln)},{path:"/singers",component:Object(o.memo)(dn)},{path:"/rank",component:Object(o.memo)(un)}]}],fn=Object(U.a)(L||(L=Object(I.a)(["\n\thtml, body, div, span, applet, object, iframe,\n\th1, h2, h3, h4, h5, h6, p, blockquote, pre,\n\ta, abbr, acronym, address, big, cite, code,\n\tdel, dfn, em, img, ins, kbd, q, s, samp,\n\tsmall, strike, strong, sub, sup, tt, var,\n\tb, u, i, center,\n\tdl, dt, dd, ol, ul, li,\n\tfieldset, form, label, legend,\n\ttable, caption, tbody, tfoot, thead, tr, th, td,\n\tarticle, aside, canvas, details, embed,\n\tfigure, figcaption, footer, header, hgroup,\n\tmenu, nav, output, ruby, section, summary,\n\ttime, mark, audio, video {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tborder: 0;\n\t\tfont-size: 100%;\n\t\tfont: inherit;\n\t\tvertical-align: baseline;\n\t}\n\t/* HTML5 display-role reset for older browsers */\n\tarticle, aside, details, figcaption, figure,\n\tfooter, header, hgroup, menu, nav, section {\n\t\tdisplay: block;\n\t}\n\tbody {\n\t\tline-height: 1;\n\t}\n\thtml, body {\n\t\tbackground: #f2f3f4;;\n\t}\n\tol, ul {\n\t\tlist-style: none;\n\t}\n\tblockquote, q {\n\t\tquotes: none;\n\t}\n\tblockquote:before, blockquote:after,\n\tq:before, q:after {\n\t\tcontent: '';\n\t\tcontent: none;\n\t}\n\ttable {\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\t}\n\ta {\n\t\ttext-decoration: none;\n\t\tcolor: #fff;\n\t}\n"])));var pn=function(){return Object(J.jsx)(l.a,{store:M,children:Object(J.jsxs)(s.a,{children:[Object(J.jsx)(fn,{}),Object(a.a)(bn)]})})},hn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,75)).then((function(e){var t=e.getCLS,o=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;t(n),o(n),r(n),c(n),i(n)}))};i.a.render(Object(J.jsx)(r.a.StrictMode,{children:Object(J.jsx)(pn,{})}),document.getElementById("root")),hn()}},[[72,1,2]]]);
//# sourceMappingURL=main.c7b7a647.chunk.js.map